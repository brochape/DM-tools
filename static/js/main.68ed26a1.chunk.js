(this["webpackJsonpdm-tools-ui"]=this["webpackJsonpdm-tools-ui"]||[]).push([[0],{156:function(e,t,c){},157:function(e,t,c){},185:function(e,t){},186:function(e,t){},187:function(e,t){},188:function(e,t){},189:function(e,t){},197:function(e,t,c){},201:function(e,t){},203:function(e,t){},214:function(e,t){},216:function(e,t){},243:function(e,t){},245:function(e,t){},246:function(e,t){},251:function(e,t){},253:function(e,t){},272:function(e,t){},284:function(e,t){},287:function(e,t){},290:function(e,t,c){},291:function(e,t,c){},292:function(e,t,c){},293:function(e,t,c){},294:function(e,t,c){"use strict";c.r(t);var n={};c.r(n),c.d(n,"setPage",(function(){return l})),c.d(n,"addCharSheet",(function(){return d})),c.d(n,"setCharSheets",(function(){return f}));var a,s=c(3),o=c(147),i=c.n(o);c(156),c(157);!function(e){e[e.ROLL_DICE=0]="ROLL_DICE",e[e.CHARACTER_SHEETS=1]="CHARACTER_SHEETS"}(a||(a={}));var r=c(25),u={title:"My App",currentPage:a.ROLL_DICE,characterSheets:new Map},l=function(e,t){e.state.currentPage=t},d=function(e,t){var c=e.state;console.log("adding entry"),c.characterSheets=new Map(c.characterSheets).set(t.charName,t.charSheet)},f=function(e,t){e.state.characterSheets=t},j={state:u,actions:n},h=Object(r.d)(),b=(Object(r.f)(),Object(r.b)(),Object(r.c)(),Object(r.e)(),c(13)),m=c(22),O=c(149),p=c.n(O),v=(c(197),c(4)),S=function(){var e,t=h(),c=t.state,n=t.actions,a=Object(s.useState)(""),o=Object(m.a)(a,2),i=o[0],r=o[1],u=function(e){var t=e.target.textContent;t&&r(c.characterSheets.get(t)||"")},l=[],d=Object(b.a)(c.characterSheets);try{for(d.s();!(e=d.n()).done;){var f=e.value,j=Object(m.a)(f,2),O=j[0];j[1];l.push(Object(v.jsx)("button",{className:"charButton",onClick:u,children:O},"char "+O))}}catch(S){d.e(S)}finally{d.f()}Object(s.useEffect)((function(){if(0===c.characterSheets.size){var e=window.localStorage.getItem("DM-tool-chars"),t=new Map;e&&(t=JSON.parse(e)),console.log("Reset chars"),n.setCharSheets(t)}}),[]);return Object(v.jsxs)("div",{className:"mainPage",children:[Object(v.jsxs)("div",{className:"charButtons",children:[l,Object(v.jsx)("input",{id:"pdfUploadButton",type:"file",className:"charButton"}),Object(v.jsx)("input",{id:"charName",type:"text"}),Object(v.jsx)("button",{onClick:function(){var e,t=(null===(e=document)||void 0===e?void 0:e.getElementById("pdfUploadButton")).files,a=document.getElementById("charName").value;if(t&&t.length>0){var s,o=t[0],i=new FileReader;i.onload=function(e){var t;s=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.result,console.log("Before",c.characterSheets),n.addCharSheet({charName:a,charSheet:s.replace("data:application/pdf;base64,","")})},i.readAsDataURL(o)}},className:"charButton",children:"+"})]}),""!==i?Object(v.jsx)("div",{className:"pdfViewer",children:Object(v.jsx)(p.a,{document:{base64:i},scale:1.2,scaleStep:.5,maxScale:5,minScale:.5,hideRotation:!0})}):null]})},x=c(150),C=(c(290),function(){var e=Object(s.useState)(""),t=Object(m.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(""),o=Object(m.a)(a,2),i=o[0],r=o[1],u=Object(s.useState)(""),l=Object(m.a)(u,2),d=l[0],f=l[1];Object(s.useEffect)((function(){try{var e=(""+new x.DiceRoll(c).output).split(" = ");f(e[0].split(": ")[1]),r(e[1])}catch(t){f("Invalid formula"),r("0")}}),[c]);return Object(v.jsxs)("div",{className:"mainPage",children:[Object(v.jsx)("div",{className:"mainPageTitle",children:"Roll dice"}),Object(v.jsxs)("div",{className:"formulaInputGroup",children:[Object(v.jsx)("input",{className:"formulaInput",id:"formula",onChange:function(e){return t=e,console.log(t),void n(t.target.value);var t},value:c,placeholder:"Dice Formula"}),Object(v.jsx)("label",{htmlFor:"formula",className:"formulaInputLabel",children:"Dice formula"})]}),Object(v.jsx)("div",{className:"formulaResultDetail",children:d}),Object(v.jsx)("div",{className:"formulaResultTotal",children:i})]})}),g=(c(291),function(){switch(h().state.currentPage){case a.ROLL_DICE:return Object(v.jsx)(C,{});case a.CHARACTER_SHEETS:return Object(v.jsx)(S,{})}return Object(v.jsx)("div",{})}),E=(c(292),function(e){var t=h().actions.setPage;return Object(v.jsx)("div",{className:"menuElement",onClick:function(){return t(e.associatedComponent)},children:e.title})}),R=(c(293),function(){return Object(v.jsxs)("div",{className:"sideMenu",children:[Object(v.jsx)(E,{title:"Roll Dice",associatedComponent:a.ROLL_DICE}),Object(v.jsx)(E,{title:"Character Sheets",associatedComponent:a.CHARACTER_SHEETS})]})});var N=function(){return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(R,{}),Object(v.jsx)(g,{})]})},I=c(19),D=Object(I.d)(j);i.a.render(Object(v.jsx)(r.a,{value:D,children:Object(v.jsx)(N,{})}),document.getElementById("root"))},98:function(e,t){}},[[294,1,2]]]);
//# sourceMappingURL=main.68ed26a1.chunk.js.map