(this["webpackJsonpdm-tools-ui"]=this["webpackJsonpdm-tools-ui"]||[]).push([[0],{156:function(e,t,n){},157:function(e,t,n){},185:function(e,t){},186:function(e,t){},187:function(e,t){},188:function(e,t){},189:function(e,t){},197:function(e,t,n){},201:function(e,t){},203:function(e,t){},214:function(e,t){},216:function(e,t){},243:function(e,t){},245:function(e,t){},246:function(e,t){},251:function(e,t){},253:function(e,t){},272:function(e,t){},284:function(e,t){},287:function(e,t){},290:function(e,t,n){},291:function(e,t,n){},292:function(e,t,n){},293:function(e,t,n){"use strict";n.r(t);var c={};n.r(c),n.d(c,"setPage",(function(){return l})),n.d(c,"addCharSheet",(function(){return d})),n.d(c,"setCharSheets",(function(){return j}));var a,i=n(3),o=n(147),s=n.n(o);n(156),n(157);!function(e){e[e.ROLL_DICE=0]="ROLL_DICE",e[e.CHARACTER_SHEETS=1]="CHARACTER_SHEETS"}(a||(a={}));var r=n(25),u={title:"My App",currentPage:a.ROLL_DICE,characterSheets:new Map},l=function(e,t){e.state.currentPage=t},d=function(e,t){var n=e.state;console.log("adding entry"),n.characterSheets=new Map(n.characterSheets).set(t.charName,t.charSheet)},j=function(e,t){e.state.characterSheets=t},f={state:u,actions:c},h=Object(r.d)(),b=(Object(r.f)(),Object(r.b)(),Object(r.c)(),Object(r.e)(),n(13)),O=n(24),v=n(149),m=n.n(v),p=(n(197),n(6)),S=function(){var e,t=h(),n=t.state,c=t.actions,a=Object(i.useState)(""),o=Object(O.a)(a,2),s=o[0],r=o[1],u=function(e){var t=e.target.textContent;t&&r(n.characterSheets.get(t)||"")},l=[],d=Object(b.a)(n.characterSheets);try{for(d.s();!(e=d.n()).done;){var j=e.value,f=Object(O.a)(j,2),v=f[0];f[1];l.push(Object(p.jsx)("button",{className:"charButton",onClick:u,children:v},"char "+v))}}catch(S){d.e(S)}finally{d.f()}Object(i.useEffect)((function(){if(0===n.characterSheets.size){var e=window.localStorage.getItem("DM-tool-chars"),t=new Map;e&&(t=JSON.parse(e)),console.log("Reset chars"),c.setCharSheets(t)}}),[]);return Object(p.jsxs)("div",{className:"mainPage",children:[Object(p.jsxs)("div",{className:"charButtons",children:[l,Object(p.jsx)("input",{id:"pdfUploadButton",type:"file",className:"charButton"}),Object(p.jsx)("input",{id:"charName",type:"text"}),Object(p.jsx)("button",{onClick:function(){var e,t=(null===(e=document)||void 0===e?void 0:e.getElementById("pdfUploadButton")).files,a=document.getElementById("charName").value;if(t&&t.length>0){var i,o=t[0],s=new FileReader;s.onload=function(e){var t;i=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.result,console.log("Before",n.characterSheets),c.addCharSheet({charName:a,charSheet:i.replace("data:application/pdf;base64,","")})},s.readAsDataURL(o)}},className:"charButton",children:"+"})]}),""!==s?Object(p.jsx)("div",{className:"pdfViewer",children:Object(p.jsx)(m.a,{document:{base64:s},scale:1.2,scaleStep:.5,maxScale:5,minScale:.5,hideRotation:!0})}):null]})},x=n(150),C=function(){var e=Object(i.useState)(""),t=Object(O.a)(e,2),n=t[0],c=t[1],a=Object(i.useState)(""),o=Object(O.a)(a,2),s=o[0],r=o[1];Object(i.useEffect)((function(){try{r(""+new x.DiceRoll(n).output)}catch(e){r("Invalid formula")}}),[n]);return Object(p.jsxs)("div",{className:"mainPage",children:[Object(p.jsx)("div",{className:"mainPageTitle",children:"Roll dice"}),Object(p.jsx)("input",{onChange:function(e){return t=e,console.log(t),void c(t.target.value);var t},value:n}),Object(p.jsx)("div",{children:s})]})},g=(n(290),function(){switch(h().state.currentPage){case a.ROLL_DICE:return Object(p.jsx)(C,{});case a.CHARACTER_SHEETS:return Object(p.jsx)(S,{})}return Object(p.jsx)("div",{})}),E=(n(291),function(e){var t=h().actions.setPage;return Object(p.jsx)("div",{className:"menuElement",onClick:function(){return t(e.associatedComponent)},children:e.title})}),R=(n(292),function(){return Object(p.jsxs)("div",{className:"sideMenu",children:[Object(p.jsx)(E,{title:"Roll Dice",associatedComponent:a.ROLL_DICE}),Object(p.jsx)(E,{title:"Character Sheets",associatedComponent:a.CHARACTER_SHEETS})]})});var N=function(){return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(R,{}),Object(p.jsx)(g,{})]})},w=n(19),A=Object(w.d)(f);s.a.render(Object(p.jsx)(r.a,{value:A,children:Object(p.jsx)(N,{})}),document.getElementById("root"))},98:function(e,t){}},[[293,1,2]]]);
//# sourceMappingURL=main.55103284.chunk.js.map